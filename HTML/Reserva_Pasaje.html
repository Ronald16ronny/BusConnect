<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Listado de Pasajes</title>
  <link rel="stylesheet" href="../CSS/Reserva_Pasaje.css">
</head>
<body>

<!-- Modal de confirmación para reserva -->
<div id="modalConfirmReserva" class="modal" style="display:none; position:fixed; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000;">
  <div class="modal-content" style="background:#fff; max-width:480px; margin:8% auto; padding:20px; border-radius:8px; position:relative;">
    <h3 id="modalConfirmTitulo">Confirmación</h3>
    <p id="modalConfirmMensaje">Tu reserva se ha completado.</p>
    <div style="display:flex; justify-content:flex-end; gap:8px; margin-top:16px;">
      <button id="modalConfirmCerrar" style="padding:8px 12px;">Cerrar</button>
      <button id="modalConfirmVer" style="padding:8px 12px; background:#2b8aef; color:#fff; border:none; border-radius:4px;">Ver mis reservas</button>
    </div>
  </div>
</div>

<header class="header">
    <div class="header-container">
        <img src="../IMG/Gemini_Generated_Image_35vftd35vftd35vf-removebg-preview (1).png" alt="BusConnect" class="logo">

        <!-- SEARCH: agregué name a inputs para facilitar captura -->
        <form class="search-bar" id="formBuscar">
            <input name="origen" type="text" placeholder="Origen" required>
            <input name="destino" type="text" placeholder="Destino" required>
            <input name="fecha" type="date" placeholder="Salida" required>
            <button type="submit">Buscar</button>
        </form>
    </div>
</header>

<main class="contenedor">
  <aside class="filtros">
    <h3>Filtros</h3>
    <div class="grupo-filtro">
      <h4>Punto de embarque</h4>
      <ul>
        <li>Lima (28 de Julio)</li>
        <li>Lima (Plaza Norte)</li>
        <li>Lima (Hogar - Puente Piedra)</li>
      </ul>
    </div>
    <div class="grupo-filtro">
      <h4>Servicios</h4>
      <ul><li>Económico</li><li>Exclusivo</li><li>Súper Exclusivo</li></ul>
    </div>
    <div class="grupo-filtro">
      <h4>Hora de salida</h4>
      <ul><li>Antes de 6 AM</li><li>6 AM - 12 PM</li><li>12 PM - 6 PM</li><li>Después de 6 PM</li></ul>
    </div>
    <div class="grupo-filtro">
      <h4>Tipos de asiento</h4>
      <ul><li>140°</li><li>160°</li><li>180°</li></ul>
    </div>
  </aside>

  <section class="resultados">
    <div class="pasos">
      <div class="paso activo">1 Ida</div>
      <div class="paso">2 Pago</div>
      <div class="paso">3 Confirmación</div>
    </div>

    <div class="lista-tarjetas" id="listaTarjetas">
      <!-- Si quieres tarjetas estáticas de ejemplo puedes dejar algunas. -->
      <!-- Las tarjetas dinámicas se inyectarán por JS tras buscar -->
    </div>
  </section>
</main>

<!-- Selector de asientos (módulo) -->
<div id="modulo-asientos" class="modulo-asientos" style="display:none;">
  <div class="spinner" aria-hidden="true"></div>
  <span class="close-asientos">✖</span>

  <div class="terminales">
    <div>
      <label>Terminal de salida</label>
      <input type="text" id="terminalSalida" readonly value="">
      <!-- modalConfirmarReserva (interna) -->
      <div id="modalConfirmarReserva" class="modal" style="display:none; position:fixed; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000;">
        <div class="modal-content" style="background:#fff; max-width:520px; margin:6% auto; padding:20px; border-radius:8px; position:relative;">
          <h3>Confirmar reserva</h3>
          <p id="confirmDetalle">Revisa tus asientos y confirma la reserva.</p>
          <ul id="confirmListaAsientos" style="list-style:none; padding-left:0;"></ul>
          <p><strong>Total:</strong> <span id="confirmPrecio">S/0</span></p>
          <div style="display:flex; justify-content:flex-end; gap:8px; margin-top:12px;">
            <button id="confirmCancelar" style="padding:8px 12px;">Cancelar</button>
            <button id="confirmEnviar" style="padding:8px 12px; background:#2b8aef; color:#fff; border:none; border-radius:4px;">Confirmar</button>
          </div>
        </div>
      </div>
    </div>

    <div>
      <label>Terminal de llegada</label>
      <input type="text" id="terminalLlegada" readonly value="">
    </div>
  </div>

  <div class="pisos-botones">
    <button class="tab-piso activo" data-piso="1">Piso #1</button>
    <button class="tab-piso" data-piso="2">Piso #2</button>
  </div>

  <div class="leyenda">
    <span class="disp"></span> Disponible
    <span class="sel"></span> Seleccionado
    <span class="ven"></span> Vendido
  </div>

  <div class="piso-container" id="piso1">
    <!-- estructura de asientos: cada asiento debe tener data-num -->
    <div class="fila-asientos" id="fila-p1-r1">
      <!-- los asientos reales se inyectan por JS con data-num y contenido -->
      <div class="asiento disponible" data-num="1">1</div>
      <div class="asiento vendido" data-num="2">2</div>
      <div class="asiento vendido" data-num="3">3</div>
      <div class="asiento disponible" data-num="4">4</div>
    </div>
  </div>

  <div class="piso-container" id="piso2" style="display:none;">
    <div class="fila-asientos" id="fila-p2-r1">
      <div class="asiento disponible" data-num="101">101</div>
      <div class="asiento disponible" data-num="102">102</div>
      <div class="asiento vendido" data-num="103">103</div>
      <div class="asiento disponible" data-num="104">104</div>
    </div>
  </div>

  <div class="continuar-compra">
    <button id="btnContinuar">CONTINUAR: S/0</button>
    <p>N° de asientos seleccionados: <span id="cantidadAsientos">0</span></p>
  </div>
</div>

<!-- Modal de pago -->
<div id="modalPago" style="display:none; position:fixed; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,.5); z-index:10000;">
  <div style="background:#fff; max-width:430px; margin:7% auto; padding:20px; border-radius:10px;">
    <h3>Seleccionar método de pago</h3>
    <p><b>Total:</b> <span id="totalPago">S/0</span></p>

    <select id="metodoPago" style="width:100%; padding:8px;">
        <option value="efectivo">Efectivo</option>
        <option value="tarjeta">Tarjeta</option>
        <option value="yape">Yape</option>
        <option value="plin">Plin</option>
    </select>

    <button id="confirmarPago" style="margin-top:16px; width:100%; padding:10px;">
        Confirmar Reserva
    </button>
  </div>
</div>

<footer class="bc-footer">
  <div class="bc-footer-contenido">
    <div class="footer-seccion">
      <h3>BusConnect</h3>
      <p>Tu mejor opción para viajar seguro y cómodo.</p>
    </div>
    <div class="footer-seccion">
      <h3>Información</h3>
      <p><a href="#">Preguntas frecuentes</a></p>
      <p><a href="#">Términos y condiciones</a></p>
      <p><a href="#">Políticas de privacidad</a></p>
    </div>
    <div class="footer-seccion">
      <h3>Contacto</h3>
      <p>Tel: +51 999 999 999</p>
      <p>Email: contacto@busconnect.com</p>
    </div>
  </div>
  <p class="bc-footer-copy">© 2025 BusConnect - Todos los derechos reservados</p>
</footer>

<script src="../JAVASCRIPT/Reserva_Pasaje.js"></script>
</body>
</html>
